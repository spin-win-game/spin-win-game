<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Spin & Win Pro Game</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
<style>
body{
  margin:0;
  font-family:'Poppins',sans-serif;
  background:radial-gradient(circle at top,#1b1b3a,#000);
  color:#fff;
  overflow-x:hidden;
}
header{
  text-align:center;
  padding:20px;
  font-size:28px;
  font-weight:700;
  background:linear-gradient(90deg,#ff0080,#7928ca);
  box-shadow:0 4px 20px rgba(0,0,0,.6);
}
#wallet{
  position:fixed;
  top:20px;
  left:20px;
  width:260px;
  background:rgba(0,0,0,.6);
  backdrop-filter:blur(10px);
  border-radius:15px;
  padding:15px;
  box-shadow:0 0 30px rgba(0,255,255,.2);
}
#wallet h3{margin:0 0 10px;color:#00fff0}
#wallet p{margin:6px 0;font-size:14px}
#redeemBtn{
  width:100%;
  margin-top:10px;
  padding:10px;
  border:none;
  border-radius:10px;
  font-size:15px;
  font-weight:600;
  cursor:pointer;
  background:linear-gradient(90deg,#ffd700,#ff9f00);
}
#game{
  margin-top:40px;
  display:flex;
  flex-direction:column;
  align-items:center;
}
#wheelBox{
  position:relative;
  margin:40px 0;
}
#wheel{
  width:340px;
  height:340px;
  border-radius:50%;
  border:12px solid #111;
  background:conic-gradient(
    #ff595e 0deg 60deg,
    #1982c4 60deg 120deg,
    #6a4c93 120deg 180deg,
    #ffca3a 180deg 240deg,
    #8ac926 240deg 300deg,
    #ff924c 300deg 360deg
  );
  box-shadow:0 0 60px rgba(255,0,255,.5);
  transition:transform 4s cubic-bezier(.17,.67,.29,1);
}
#pointer{
  position:absolute;
  top:-25px;
  left:50%;
  transform:translateX(-50%);
  width:0;height:0;
  border-left:18px solid transparent;
  border-right:18px solid transparent;
  border-bottom:30px solid red;
}
#controls{
  display:flex;
  gap:15px;
}
button.action{
  padding:12px 30px;
  border:none;
  border-radius:12px;
  font-size:16px;
  font-weight:600;
  cursor:pointer;
}
#spinBtn{background:#00c853;color:#fff}
#refreshBtn{background:#555;color:#fff}
#result{margin-top:20px;font-size:18px;color:#00fff0}
input{
  padding:10px;
  border-radius:8px;
  border:none;
  margin-bottom:15px;
  width:220px;
  text-align:center;
}
</style>
</head>
<body>
<header>üé° SPIN & WIN PRO GAME</header>

<div id="wallet">
  <h3>üíº Wallet</h3>
  <p>üë§ Player: <span id="player">Guest</span></p>
  <p>‚≠ê Points: <span id="points">0</span></p>
  <p>üéÅ Gift Card: 1000 pts = ‚Çπ100</p>
  <p id="giftStatus">Status: ‚ùå Not Eligible</p>
  <button id="redeemBtn" onclick="redeem()">Redeem Gift Card</button>
</div>

<div id="game">
  <input id="nameInput" placeholder="Enter your name">
  <div id="wheelBox">
    <div id="pointer"></div>
    <div id="wheel"></div>
  </div>
  <div id="controls">
    <button class="action" id="spinBtn" onclick="spin()">SPIN</button>
    <button class="action" id="refreshBtn" onclick="location.reload()">REFRESH</button>
  </div>
  <div id="result"></div>
</div>

<audio id="spinSound" src="https://assets.mixkit.co/sfx/preview/mixkit-slot-machine-spin-1930.mp3"></audio>

<script>
let total = Number(localStorage.getItem('points')) || 0;
let angle = 0;
document.getElementById('points').innerText = total;

function spin(){
  const name = document.getElementById('nameInput').value || 'Guest';
  document.getElementById('player').innerText = name;

  const spinSound = document.getElementById('spinSound');
  spinSound.play();

  const prize = [10,20,50,100,200,500];
  const win = prize[Math.floor(Math.random()*prize.length)];

  angle += 1440 + Math.floor(Math.random()*360);
  document.getElementById('wheel').style.transform = `rotate(${angle}deg)`;

  setTimeout(()=>{
    total += win;
    localStorage.setItem('points', total);
    document.getElementById('points').innerText = total;
    document.getElementById('result').innerText = `üéâ You won ${win} points!`;
    checkGift();
  },4000);
}

function checkGift(){
  const status = document.getElementById('giftStatus');
  if(total>=1000){
    status.innerText = 'Status: ‚úÖ Eligible';
    status.style.color = '#00ff99';
  } else {
    status.innerText = 'Status: ‚ùå Not Eligible';
    status.style.color = 'red';
  }
}

function redeem(){
  if(total<1000){
    alert('Not enough points');
    return;
  }
  total-=1000;
  localStorage.setItem('points', total);
  document.getElementById('points').innerText = total;
  alert('üéÅ Gift card redeemed (Demo)');
  checkGift();
}

checkGift();
</script>
</body>
</html>
